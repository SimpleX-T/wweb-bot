<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="WhatsApp Bot Dashboard - Manage groups, communities, and conversations"
    />
    <title>WhatsApp Bot Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/context-menu.css" />
    <link rel="stylesheet" href="css/media.css" />
    <link rel="stylesheet" href="css/message-actions.css" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2325D366'%3E%3Cpath d='M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z'/%3E%3C/svg%3E"
    />
  </head>
  <body>
    <div id="app">
      <!-- Auth Screen -->
      <div id="auth-screen" class="screen">
        <div class="auth-container">
          <div class="auth-header">
            <div class="logo">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"
                />
              </svg>
              <h1>WhatsApp Bot</h1>
            </div>
            <p class="auth-subtitle">
              Scan the QR code with your WhatsApp app to connect
            </p>
          </div>

          <div class="qr-container">
            <div id="qr-loading" class="qr-loading">
              <div class="spinner"></div>
              <p>Initializing...</p>
            </div>
            <div id="qr-code" class="qr-code hidden">
              <img id="qr-image" src="" alt="QR Code" />
            </div>
            <div id="qr-authenticated" class="qr-authenticated hidden">
              <div class="success-icon">âœ“</div>
              <p>Connected!</p>
            </div>
          </div>

          <div class="auth-status">
            <span class="status-indicator" id="status-indicator"></span>
            <span id="status-text">Connecting...</span>
          </div>

          <button id="init-btn" class="btn btn-primary hidden">
            Reconnect
          </button>
        </div>
      </div>

      <!-- Dashboard Screen -->
      <div id="dashboard-screen" class="screen hidden">
        <div class="dashboard">
          <!-- Sidebar -->
          <aside class="sidebar">
            <div class="sidebar-header">
              <div class="user-info">
                <div class="avatar" id="user-avatar">
                  <span id="user-initial">U</span>
                </div>
                <div class="user-details">
                  <h3 id="user-name">Loading...</h3>
                  <span class="user-status online">Connected</span>
                </div>
              </div>
              <button class="icon-btn" id="settings-btn" title="Settings">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
                  />
                </svg>
              </button>
            </div>

            <div class="search-container">
              <input
                type="text"
                id="search-input"
                placeholder="Search chats..."
                class="search-input"
              />
              <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                />
              </svg>
            </div>

            <div class="chat-tabs">
              <button class="tab-btn active" data-tab="watchlist">
                Watchlist
              </button>
              <button class="tab-btn" data-tab="all">All Chats</button>
              <button class="tab-btn" data-tab="groups">Groups</button>
            </div>

            <div class="chat-list" id="chat-list">
              <!-- Chat items will be rendered here -->
            </div>

            <button class="add-chat-btn" id="add-chat-btn">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
              </svg>
              Add to Watchlist
            </button>
          </aside>

          <!-- Chat View -->
          <main class="chat-view" id="chat-view">
            <div class="empty-state" id="empty-state">
              <div class="empty-icon">ðŸ’¬</div>
              <h2>Select a chat</h2>
              <p>
                Choose a conversation from your watchlist to view messages and
                manage settings
              </p>
            </div>

            <div class="chat-content hidden" id="chat-content">
              <header class="chat-header">
                <div class="chat-header-info">
                  <div class="chat-avatar" id="chat-avatar"></div>
                  <div class="chat-details">
                    <h2 id="chat-name">Chat Name</h2>
                    <span id="chat-meta">Loading...</span>
                  </div>
                </div>
                <div class="chat-actions">
                  <button class="icon-btn" id="refresh-btn" title="Refresh">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
                      />
                    </svg>
                  </button>
                  <button
                    class="icon-btn"
                    id="tag-all-btn"
                    title="Tag All Members"
                  >
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"
                      />
                    </svg>
                  </button>
                  <button
                    class="icon-btn"
                    id="members-btn"
                    title="Manage Members"
                  >
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                      />
                    </svg>
                  </button>
                  <button
                    class="icon-btn"
                    id="group-settings-btn"
                    title="Group Settings"
                  >
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
                      />
                    </svg>
                  </button>
                </div>
              </header>

              <div class="messages-container" id="messages-container">
                <!-- Messages will be rendered here -->
              </div>

              <footer class="message-input-container">
                <!-- Reply Bar -->
                <div class="reply-bar" id="reply-bar">
                  <div class="reply-bar-content">
                    <div class="reply-bar-author" id="reply-author"></div>
                    <div class="reply-bar-text" id="reply-text"></div>
                  </div>
                  <button class="reply-bar-close" id="reply-close">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                      />
                    </svg>
                  </button>
                </div>

                <!-- Emoji Picker Container -->
                <div class="emoji-picker-container" id="emoji-picker-container">
                  <emoji-picker></emoji-picker>
                </div>

                <div class="message-input-wrapper">
                  <button class="icon-btn emoji-btn" id="emoji-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"
                      />
                    </svg>
                  </button>
                  <input
                    type="text"
                    id="message-input"
                    placeholder="Type a message..."
                    class="message-input"
                  />
                  <button class="icon-btn attach-btn" id="attach-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"
                      />
                    </svg>
                  </button>
                  <input
                    type="file"
                    id="media-input"
                    accept="image/*,video/*,audio/*"
                    style="display: none"
                  />
                  <button class="send-btn" id="send-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                    </svg>
                  </button>
                </div>
              </footer>
            </div>
          </main>

          <!-- Action Panel -->
          <aside class="action-panel hidden" id="action-panel">
            <header class="panel-header">
              <h3 id="panel-title">Panel</h3>
              <button class="icon-btn close-panel-btn" id="close-panel-btn">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path
                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                  />
                </svg>
              </button>
            </header>
            <div class="panel-content" id="panel-content">
              <!-- Panel content will be rendered here -->
            </div>
          </aside>
        </div>
      </div>

      <!-- Modals -->
      <div class="modal-overlay hidden" id="modal-overlay">
        <div class="modal" id="modal">
          <header class="modal-header">
            <h3 id="modal-title">Modal</h3>
            <button class="icon-btn" id="close-modal-btn">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                />
              </svg>
            </button>
          </header>
          <div class="modal-body" id="modal-body">
            <!-- Modal content will be rendered here -->
          </div>
        </div>
      </div>

      <!-- Context Menu -->
      <div id="context-menu" class="context-menu hidden">
        <div class="context-menu-item" id="ctx-add-watchlist">
          <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          Add to Watchlist
        </div>
        <div class="context-menu-item" id="ctx-copy-id">
          <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
            <path
              d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"
            />
          </svg>
          Copy ID
        </div>
      </div>

      <!-- Media Preview Modal -->
      <div class="media-preview-modal" id="media-preview-modal">
        <div class="media-preview-content" id="media-preview-content">
          <button class="media-preview-close" id="media-preview-close">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
              />
            </svg>
          </button>
        </div>
      </div>

      <!-- Toast Container -->
      <div class="toast-container" id="toast-container"></div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script type="module">
      import "https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js";
    </script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
